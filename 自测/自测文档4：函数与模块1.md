# 自测文档4：函数与模块1

## 一、选择题（共20题，每题2分）

1. 以下哪个关键字用于定义函数？（ ）
   A. function
   B. def
   C. func
   D. define

2. 以下哪个是函数的文档字符串？（ ）
   A. // 这是一个文档字符串
   B. /* 这是一个文档字符串 */
   C. # 这是一个文档字符串
   D. """这是一个文档字符串"""

3. 以下哪个语句用于返回函数的结果？（ ）
   A. return
   B. break
   C. continue
   D. exit

4. 以下哪个参数类型允许函数接收任意数量的位置参数？（ ）
   A. *args
   B. **kwargs
   C. default parameters
   D. keyword parameters

5. 以下哪个参数类型允许函数接收任意数量的关键字参数？（ ）
   A. *args
   B. **kwargs
   C. default parameters
   D. keyword parameters

6. 以下哪个是lambda函数的语法？（ ）
   A. lambda parameters: expression
   B. def lambda(parameters): expression
   C. lambda parameters: { expression }
   D. lambda(parameters): expression

7. 以下哪个是递归函数的基本特征？（ ）
   A. 函数内部调用其他函数
   B. 函数内部调用自身
   C. 函数外部调用函数
   D. 函数外部调用其他函数

8. 以下哪个是装饰器的语法？（ ）
   A. @decorator
   B. #decorator
   C. /*decorator*/
   D. //decorator

9. 以下哪个函数用于查看模块的文档字符串？（ ）
   A. help()
   B. doc()
   C. info()
   D. describe()

10. 以下哪个语句用于导入整个模块？（ ）
    A. import module_name
    B. from module_name import *
    C. from module_name import function_name
    D. import module_name as alias

11. 以下哪个语句用于导入模块中的特定内容？（ ）
    A. import module_name
    B. from module_name import *
    C. from module_name import function_name
    D. import module_name as alias

12. 以下哪个语句用于导入模块并指定别名？（ ）
    A. import module_name
    B. from module_name import *
    C. from module_name import function_name
    D. import module_name as alias

13. 以下哪个是包的特征？（ ）
    A. 包含多个模块的目录
    B. 包含单个模块的文件
    C. 包含多个文件的目录
    D. 包含单个文件的目录

14. 以下哪个文件是包必须包含的？（ ）
    A. __main__.py
    B. __init__.py
    C. setup.py
    D. README.md

15. 以下哪个是全局变量的特征？（ ）
    A. 在函数内部定义的变量
    B. 只能在函数内部访问的变量
    C. 在函数外部定义的变量
    D. 只能在函数外部访问的变量

16. 以下哪个关键字用于在函数内部修改全局变量？（ ）
    A. global
    B. nonlocal
    C. local
    D. outer

17. 以下哪个关键字用于在嵌套函数内部修改外部函数的变量？（ ）
    A. global
    B. nonlocal
    C. local
    D. outer

18. 以下哪个是闭包的特征？（ ）
    A. 函数内部调用其他函数
    B. 函数内部定义其他函数
    C. 内部函数可以访问外部函数的变量，即使外部函数已经执行完毕
    D. 外部函数可以访问内部函数的变量

19. 以下哪个是装饰器的作用？（ ）
    A. 修改函数的代码
    B. 修改函数的功能，而不需要修改函数本身的代码
    C. 删除函数
    D. 复制函数

20. 以下哪个是函数设计的原则？（ ）
    A. 函数名要有描述性
    B. 函数功能要复杂
    C. 参数数量要多
    D. 返回值要多

## 二、填空题（共20题，每题2分）

1. Python中，定义函数的关键字是______。
2. 函数的文档字符串使用______或______包裹。
3. 函数可以返回多个值，返回的是一个______。
4. 位置参数必须按照______传递。
5. 默认参数必须放在______之后。
6. 可变参数使用______前缀表示。
7. 关键字可变参数使用______前缀表示。
8. lambda函数是一种______函数。
9. 递归函数必须有一个______，否则会导致无限递归。
10. 装饰器用于修改其他函数的______，而不需要修改函数本身的代码。
11. 模块是一个包含______的文件。
12. 包是一个包含______的目录。
13. 包必须包含一个______文件。
14. 导入整个模块的语法是______。
15. 导入模块并指定别名的语法是______。
16. 全局变量在______定义，可以在整个程序中访问。
17. 局部变量在______定义，只能在函数内部访问。
18. 在函数内部修改全局变量需要使用______关键字。
19. 在嵌套函数内部修改外部函数的变量需要使用______关键字。
20. 闭包是指一个函数可以访问其______中的变量，即使外部函数已经执行完毕。

## 三、简答题（共4题，每题5分）

1. 简述函数的定义和调用过程。
2. 简述函数的参数类型有哪些，并说明它们的区别。
3. 简述递归函数的优缺点。
4. 简述模块和包的区别。

## 四、编程题（共2题，每题10分）

1. 编写一个函数，计算列表中所有元素的和。
2. 编写一个装饰器，用于记录函数的调用日志。

---

# 参考答案

## 一、选择题

1. B
2. D
3. A
4. A
5. B
6. A
7. B
8. A
9. A
10. A
11. C
12. D
13. A
14. B
15. C
16. A
17. B
18. C
19. B
20. A

## 二、填空题

1. def
2. 三个单引号；三个双引号
3. 元组
4. 定义的顺序
5. 位置参数
6. *
7. **
8. 匿名
9. 终止条件
10. 功能
11. Python代码
12. 多个模块
13. __init__.py
14. import 模块名
15. import 模块名 as 别名
16. 函数外部
17. 函数内部
18. global
19. nonlocal
20. 外部作用域

## 三、简答题

1. **函数的定义和调用过程**：
   - 函数定义：使用`def`关键字，后跟函数名、参数列表和函数体，函数体包含实现特定功能的代码
   - 函数调用：使用函数名和必要的参数，函数执行后返回结果
   - 调用过程：
     1. 执行函数调用时，将实际参数传递给形式参数
     2. 执行函数体中的代码
     3. 执行`return`语句，返回结果给调用者
     4. 函数执行完毕，释放函数内部的资源

2. **函数的参数类型**：
   - **位置参数**：必须按照定义的顺序传递的参数
   - **关键字参数**：通过参数名传递的参数，不需要按照定义的顺序
   - **默认参数**：在定义函数时为参数设置默认值，调用时可以不提供
   - **可变参数**：使用`*args`表示，允许接收任意数量的位置参数，打包成元组
   - **关键字可变参数**：使用`**kwargs`表示，允许接收任意数量的关键字参数，打包成字典

3. **递归函数的优缺点**：
   - **优点**：
     - 代码简洁，可读性高
     - 适合解决递归结构的问题，如树、图等
     - 逻辑清晰，符合问题的自然描述
   - **缺点**：
     - 效率较低，因为会产生额外的函数调用开销
     - 可能导致栈溢出，因为递归深度有限制
     - 调试困难，因为递归调用的层次较多

4. **模块和包的区别**：
   - **模块**：是一个包含Python代码的文件，文件名即为模块名，后缀为`.py`
   - **包**：是一个包含多个模块的目录，用于组织相关的模块
   - 包必须包含一个`__init__.py`文件，该文件可以是空文件，也可以包含包的初始化代码
   - 模块用于封装单个功能，包用于封装多个相关的模块

## 四、编程题

1. **计算列表中所有元素的和**：

```python
def sum_list(lst):
    """计算列表中所有元素的和"""
    total = 0
    for num in lst:
        total += num
    return total

# 测试函数
numbers = [1, 2, 3, 4, 5]
result = sum_list(numbers)
print(f"列表{numbers}的和是：{result}")  # 输出：列表[1, 2, 3, 4, 5]的和是：15
```

2. **记录函数调用日志的装饰器**：

```python
def log_decorator(func):
    """记录函数调用日志的装饰器"""
    def wrapper(*args, **kwargs):
        import datetime
        # 记录调用时间
        call_time = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        # 记录函数名
        func_name = func.__name__
        # 记录参数
        args_repr = [repr(arg) for arg in args]
        kwargs_repr = [f"{k}={repr(v)}" for k, v in kwargs.items()]
        signature = ", ".join(args_repr + kwargs_repr)
        # 记录调用日志
        print(f"[{call_time}] 函数 {func_name} 被调用，参数：({signature})")
        # 执行函数
        result = func(*args, **kwargs)
        # 记录返回值
        print(f"[{call_time}] 函数 {func_name} 返回：{repr(result)}")
        return result
    return wrapper

# 使用装饰器
@log_decorator
def add(a, b):
    """计算两个数的和"""
    return a + b

@log_decorator
def greet(name, message="Hello"):
    """向指定的人打招呼"""
    return f"{message}, {name}!"

# 测试函数
add(3, 5)
greet("Alice", message="Hi")
```

**输出示例**：
```
[2023-05-20 14:30:00] 函数 add 被调用，参数：(3, 5)
[2023-05-20 14:30:00] 函数 add 返回：8
[2023-05-20 14:30:00] 函数 greet 被调用，参数：('Alice', message='Hi')
[2023-05-20 14:30:00] 函数 greet 返回：'Hi, Alice!'
```