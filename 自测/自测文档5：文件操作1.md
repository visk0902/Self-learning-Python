# 自测文档5：文件操作1

## 一、选择题（共20题，每题2分）

1. 以下哪个函数用于打开文件？（ ）
   A. open()
   B. close()
   C. read()
   D. write()

2. 以下哪个是文件打开的默认模式？（ ）
   A. 'w'
   B. 'r'
   C. 'a'
   D. 'x'

3. 以下哪个模式用于追加内容到文件末尾？（ ）
   A. 'w'
   B. 'r'
   C. 'a'
   D. 'x'

4. 以下哪个模式用于只写二进制文件？（ ）
   A. 'wb'
   B. 'w'
   C. 'rb'
   D. 'r'

5. 以下哪个语句用于自动管理文件资源？（ ）
   A. try-except
   B. with
   C. for
   D. while

6. 以下哪个方法用于读取整个文件的内容？（ ）
   A. read()
   B. readline()
   C. readlines()
   D. write()

7. 以下哪个方法用于逐行读取文件内容？（ ）
   A. read()
   B. readline()
   C. readlines()
   D. write()

8. 以下哪个方法用于读取所有行并返回一个列表？（ ）
   A. read()
   B. readline()
   C. readlines()
   D. write()

9. 以下哪个方法用于写入字符串到文件中？（ ）
   A. read()
   B. write()
   C. writelines()
   D. close()

10. 以下哪个方法用于写入列表到文件中？（ ）
    A. read()
    B. write()
    C. writelines()
    D. close()

11. 以下哪个方法用于获取文件指针的当前位置？（ ）
    A. tell()
    B. seek()
    C. read()
    D. write()

12. 以下哪个方法用于移动文件指针到指定位置？（ ）
    A. tell()
    B. seek()
    C. read()
    D. write()

13. 以下哪个模块用于文件和目录操作？（ ）
    A. os
    B. sys
    C. math
    D. random

14. 以下哪个函数用于获取当前工作目录？（ ）
    A. os.getcwd()
    B. os.chdir()
    C. os.listdir()
    D. os.mkdir()

15. 以下哪个函数用于列出目录中的文件和子目录？（ ）
    A. os.getcwd()
    B. os.chdir()
    C. os.listdir()
    D. os.mkdir()

16. 以下哪个函数用于创建单个目录？（ ）
    A. os.getcwd()
    B. os.chdir()
    C. os.listdir()
    D. os.mkdir()

17. 以下哪个函数用于删除文件？（ ）
    A. os.remove()
    B. os.rmdir()
    C. os.removedirs()
    D. shutil.rmtree()

18. 以下哪个函数用于删除空目录？（ ）
    A. os.remove()
    B. os.rmdir()
    C. os.removedirs()
    D. shutil.rmtree()

19. 以下哪个模块提供了高级文件操作功能？（ ）
    A. os
    B. sys
    C. shutil
    D. math

20. 以下哪个函数用于递归复制目录？（ ）
    A. shutil.copy()
    B. shutil.copy2()
    C. shutil.copytree()
    D. shutil.move()

## 二、填空题（共20题，每题2分）

1. Python中，用于打开文件的函数是______。
2. 文件打开的默认模式是______。
3. 用于追加内容到文件末尾的模式是______。
4. 用于处理二进制文件的模式是______。
5. 用于自动管理文件资源的语句是______。
6. 用于读取整个文件内容的方法是______。
7. 用于逐行读取文件内容的方法是______。
8. 用于读取所有行并返回列表的方法是______。
9. 用于写入字符串到文件的方法是______。
10. 用于写入列表到文件的方法是______。
11. 用于获取文件指针当前位置的方法是______。
12. 用于移动文件指针的方法是______。
13. 用于文件和目录操作的模块是______。
14. 用于获取当前工作目录的函数是______。
15. 用于列出目录内容的函数是______。
16. 用于创建单个目录的函数是______。
17. 用于删除文件的函数是______。
18. 用于删除空目录的函数是______。
19. 提供高级文件操作功能的模块是______。
20. 用于递归删除目录及其内容的函数是______。

## 三、简答题（共4题，每题5分）

1. 简述文件操作的基本流程。
2. 简述常见的文件打开模式及其特点。
3. 简述`with`语句的优点。
4. 简述`os`模块和`shutil`模块的区别。

## 四、编程题（共2题，每题10分）

1. 编写程序，读取一个文本文件，统计文件中的行数、单词数和字符数。
2. 编写程序，复制一个目录及其所有内容到另一个目录。

---

# 参考答案

## 一、选择题

1. A
2. B
3. C
4. A
5. B
6. A
7. B
8. C
9. B
10. C
11. A
12. B
13. A
14. A
15. C
16. D
17. A
18. B
19. C
20. C

## 二、填空题

1. open()
2. 'r'
3. 'a'
4. 'b'
5. with
6. read()
7. readline()
8. readlines()
9. write()
10. writelines()
11. tell()
12. seek()
13. os
14. os.getcwd()
15. os.listdir()
16. os.mkdir()
17. os.remove()
18. os.rmdir()
19. shutil
20. shutil.rmtree()

## 三、简答题

1. **文件操作的基本流程**：
   - 打开文件：使用`open()`函数打开文件，获取文件对象
   - 操作文件：读取或写入数据
   - 关闭文件：使用`close()`方法关闭文件，释放资源

2. **常见的文件打开模式及其特点**：
   - `'r'`：只读模式，文件必须存在
   - `'w'`：写入模式，会覆盖已有文件，文件不存在则创建
   - `'a'`：追加模式，在文件末尾追加内容，文件不存在则创建
   - `'x'`：独占创建模式，文件不存在则创建，存在则报错
   - `'b'`：二进制模式，用于处理二进制文件
   - `'t'`：文本模式，用于处理文本文件
   - `'+'`：读写模式，与其他模式结合使用

3. **`with`语句的优点**：
   - 自动关闭文件，避免资源泄漏
   - 代码更简洁，可读性更好
   - 可以处理异常，确保文件关闭
   - 不需要手动调用`close()`方法

4. **`os`模块和`shutil`模块的区别**：
   - `os`模块提供了与操作系统交互的基本功能，包括文件和目录操作
   - `shutil`模块提供了高级文件操作功能，如复制、移动、压缩等
   - `os`模块更底层，`shutil`模块在`os`模块的基础上提供了更高级的封装
   - `shutil`模块的函数通常更易用，但`os`模块提供了更多的底层控制

## 四、编程题

1. **统计文本文件的行数、单词数和字符数**：

```python
def count_file_stats(file_path):
    """统计文本文件的行数、单词数和字符数"""
    try:
        with open(file_path, "r", encoding="utf-8") as file:
            lines = file.readlines()
            line_count = len(lines)
            
            # 统计单词数和字符数
            word_count = 0
            char_count = 0
            for line in lines:
                # 统计字符数（包括换行符）
                char_count += len(line)
                # 统计单词数（按空格分割）
                words = line.split()
                word_count += len(words)
            
            return line_count, word_count, char_count
    except FileNotFoundError:
        print(f"文件{file_path}不存在")
        return 0, 0, 0
    except Exception as e:
        print(f"处理文件时发生错误：{e}")
        return 0, 0, 0

# 测试函数
file_path = "test.txt"
line_count, word_count, char_count = count_file_stats(file_path)
print(f"文件{file_path}的统计信息：")
print(f"行数：{line_count}")
print(f"单词数：{word_count}")
print(f"字符数：{char_count}")
```

2. **复制目录及其所有内容**：

```python
import os
import shutil

def copy_directory(src_dir, dst_dir):
    """复制目录及其所有内容到另一个目录"""
    try:
        # 检查源目录是否存在
        if not os.path.exists(src_dir):
            print(f"源目录{src_dir}不存在")
            return
        
        # 检查目标目录是否存在，不存在则创建
        if not os.path.exists(dst_dir):
            os.makedirs(dst_dir)
            print(f"目标目录{dst_dir}已创建")
        
        # 复制目录内容
        for item in os.listdir(src_dir):
            src_item = os.path.join(src_dir, item)
            dst_item = os.path.join(dst_dir, item)
            
            if os.path.isfile(src_item):
                # 复制文件
                shutil.copy2(src_item, dst_item)
                print(f"文件{src_item}已复制到{dst_item}")
            elif os.path.isdir(src_item):
                # 递归复制子目录
                copy_directory(src_item, dst_item)
        
        print(f"目录{src_dir}已成功复制到{dst_dir}")
    except Exception as e:
        print(f"复制目录时发生错误：{e}")

# 测试函数
source_dir = "source_folder"
destination_dir = "destination_folder"
copy_directory(source_dir, destination_dir)
```