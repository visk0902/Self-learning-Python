# 学习文档3：控制流与循环

## 1. 条件语句

### 1.1 if语句
if语句是Python中最基本的条件控制语句，用于根据条件执行不同的代码块。

```python
# 基本if语句
age = 18
if age >= 18:
    print("你已经成年了")
    print("可以参加投票")
```

### 1.2 if-else语句
if-else语句用于在条件为真时执行一个代码块，条件为假时执行另一个代码块。

```python
# if-else语句
age = 16
if age >= 18:
    print("你已经成年了")
else:
    print("你还未成年")
```

### 1.3 if-elif-else语句
if-elif-else语句用于处理多个条件，依次检查每个条件，直到找到一个为真的条件，执行对应的代码块。

```python
# if-elif-else语句
score = 85
if score >= 90:
    print("优秀")
elif score >= 80:
    print("良好")
elif score >= 70:
    print("中等")
elif score >= 60:
    print("及格")
else:
    print("不及格")
```

### 1.4 嵌套if语句
if语句可以嵌套在其他if语句中，用于处理更复杂的条件。

```python
# 嵌套if语句
a = 10
b = 20
if a > 0:
    print("a是正数")
    if b > 0:
        print("b也是正数")
        print("a和b都是正数")
    else:
        print("b不是正数")
else:
    print("a不是正数")
```

## 2. 循环语句

### 2.1 for循环
for循环用于遍历序列（如列表、元组、字符串）或其他可迭代对象。

#### 基本for循环

```python
# 遍历列表
fruits = ["apple", "banana", "cherry"]
for fruit in fruits:
    print(fruit)

# 遍历字符串
word = "Python"
for char in word:
    print(char)

# 遍历元组
tuple_example = (1, 2, 3, 4, 5)
for num in tuple_example:
    print(num)

# 遍历字典
person = {"name": "Alice", "age": 20, "city": "Beijing"}
for key in person:
    print(key, person[key])

for key, value in person.items():
    print(key, value)
```

#### range()函数
range()函数用于生成一个整数序列，常用于for循环中。

语法：`range(start, stop, step)`
- start：起始值（包含），默认0
- stop：结束值（不包含）
- step：步长，默认1

```python
# range()示例
for i in range(5):
    print(i)  # 输出：0 1 2 3 4

for i in range(2, 5):
    print(i)  # 输出：2 3 4

for i in range(1, 10, 2):
    print(i)  # 输出：1 3 5 7 9

for i in range(10, 0, -2):
    print(i)  # 输出：10 8 6 4 2
```

#### 列表推导式中的for循环

```python
# 列表推导式
squares = [x**2 for x in range(1, 6)]
print(squares)  # 输出：[1, 4, 9, 16, 25]

# 带条件的列表推导式
evens = [x for x in range(1, 11) if x % 2 == 0]
print(evens)  # 输出：[2, 4, 6, 8, 10]
```

### 2.2 while循环
while循环用于在条件为真时重复执行代码块。

```python
# 基本while循环
count = 0
while count < 5:
    print(count)
    count += 1

# 计算1到100的和
sum = 0
n = 1
while n <= 100:
    sum += n
    n += 1
print(f"1到100的和是：{sum}")
```

### 2.3 循环控制语句

#### break语句
break语句用于终止循环，跳出循环体。

```python
# break语句示例
for i in range(1, 11):
    if i == 6:
        break
    print(i)  # 输出：1 2 3 4 5

# 在while循环中使用break
count = 0
while True:
    print(count)
    count += 1
    if count == 5:
        break  # 输出：0 1 2 3 4
```

#### continue语句
continue语句用于跳过当前循环的剩余部分，继续下一次循环。

```python
# continue语句示例
for i in range(1, 11):
    if i % 2 == 0:
        continue  # 跳过偶数
    print(i)  # 输出：1 3 5 7 9

# 在while循环中使用continue
count = 0
while count < 10:
    count += 1
    if count % 3 == 0:
        continue  # 跳过3的倍数
    print(count)  # 输出：1 2 4 5 7 8 10
```

#### pass语句
pass语句是一个空语句，用于占位，不执行任何操作。

```python
# pass语句示例
for i in range(5):
    pass  # 什么也不做，只是占位

if True:
    pass  # 占位，等待后续实现
```

### 2.4 嵌套循环
一个循环可以嵌套在另一个循环中，称为嵌套循环。

```python
# 嵌套for循环
for i in range(1, 4):
    for j in range(1, 4):
        print(f"i={i}, j={j}")

# 打印九九乘法表
for i in range(1, 10):
    for j in range(1, i+1):
        print(f"{j}×{i}={i*j}", end="\t")
    print()  # 换行
```

## 3. 条件表达式（三元运算符）
条件表达式是一种简洁的条件判断语法，语法为：`value_if_true if condition else value_if_false`。

```python
# 条件表达式示例
age = 18
status = "成年" if age >= 18 else "未成年"
print(status)  # 输出：成年

# 比较两个数的大小
x = 10
y = 20
max_value = x if x > y else y
print(f"较大的数是：{max_value}")  # 输出：20
```

## 4. 实践指导

### 4.1 选择合适的循环结构
| 循环类型 | 特点 | 应用场景 |
|----------|------|----------|
| for循环 | 遍历已知序列或可迭代对象 | 遍历列表、元组、字符串、字典等 |
| while循环 | 条件为真时重复执行 | 不确定循环次数，需要根据条件退出循环 |

### 4.2 避免死循环
死循环是指无法正常退出的循环，会导致程序崩溃或占用大量资源。

**错误示例**：
```python
# 死循环示例
count = 0
while count < 5:
    print(count)  # 忘记增加count的值，导致无限循环
```

**解决方法**：确保循环条件最终会变为假，或者在循环体中使用break语句退出循环。

### 4.3 常见错误和解决方法

#### 缩进错误（IndentationError）
**错误示例**：
```python
for i in range(5):
print(i)  # 缺少缩进
```

**解决方法**：确保循环体中的代码有正确的缩进。

#### 逻辑错误
**错误示例**：
```python
# 计算1到10的和
sum = 0
for i in range(1, 11):
    sum += i
    print(f"当前和：{sum}")  # 每次循环都打印，而不是只打印最终结果
```

**解决方法**：检查代码逻辑，确保循环体中的代码符合预期。

## 5. 总结

本章节介绍了Python的控制流与循环，包括：
- 条件语句：if语句、if-else语句、if-elif-else语句、嵌套if语句
- 循环语句：for循环（遍历序列、range()函数）、while循环
- 循环控制语句：break语句、continue语句、pass语句
- 嵌套循环
- 条件表达式
- 实践指导

通过学习这些内容，你已经掌握了Python的基本控制流，可以编写更复杂的程序来解决实际问题。接下来，我们将学习Python的函数与模块，进一步提升你的编程能力。